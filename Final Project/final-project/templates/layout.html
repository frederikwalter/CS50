<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1, width=device-width">
	<title>Autostopp Challenge: {% block title %}{% endblock title %}</title>
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">

	<!-- Include CSS -->
    <link href="static/styles.css" rel="stylesheet">
    <!-- https://www.flaticon.com/free-icon/road-trip_980763 -->
    <link href="static/favicon.png" rel="icon">
	
</head>
<body>
	<!-- Fixed top navbar -->
	<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="/"> <img src="/static/favicon.png" alt="icon" width="30" height="30" class="d-inline-block align-text-top"></a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarCollapse">
			{% if session["user_id"] %}
				<ul class="navbar-nav mr-auto">
					<li class="nav-item" data-page="feed">
						<a class="nav-link" href="/feed">Feed</a>
					</li>
					<li class="nav-item" data-page="challenges">
						<a class="nav-link" href="/challenges">Challenges</a>
					</li>
					<li class="nav-item" data-page="players">
						<a class="nav-link" href="/players">Players</a>
					</li>
				</ul>
				<ul class="navbar-nav ml-auto">
					<li class="nav-item" data-page="logout">
						<a class="nav-link" href="/logout">Logout</a>
					</li>
					<li class="nav-item" data-page="profile">
						<a class="nav-link" href="/profile">{{ nameÂ }}</a>
					</li>

					
				</ul>	
			{% else %}
				<ul class="navbar-nav mr-auto">
					<li class="nav-item" data-page="login">
						<a class="nav-link" href="/login">Log in</a>
					</li>
					<li class="nav-item" data-page="register">
						<a class="nav-link" href="/register">Register</a>
					</li>
				</ul>
			{% endif %}
		</div>
	</nav>

	<!-- Main content -->
	<main>
		{% block main %}{% endblock main %}
		<br>
		<br>
		<br>
	</main>

	<!-- Footer -->
	<footer>
		<div class="container text-center">
			<span>&copy; 2023 Fredl</span>
		</div>
	</footer>

	
	{% block scripts %}{% endblock scripts %}

	<script>
		{% block currentPage %}{% endblock currentPage %};
		const navItems = document.querySelectorAll('.nav-item');
		for (let i = 0; i < navItems.length; i++) {
		  if (navItems[i].getAttribute('data-page') === currentPage) {
			console.log(navItems[i]);
			navItems[i].classList.add('active');
		  }
		}
	</script>
	  

	<!-- Bootstrap JS and jQuery -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>

</body>
</html>
